<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>时间线</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="js/layui/css/layui.css"  media="all">
    <!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->

</head>

<style>
    body{
        margin: 20px;
    }

</style>

<body >
<!--文字转音频网站  https://www.toolfk.com/tool-online-text2video -->
<audio  autoplay="autoplay" id="audio1" >
    <source src="./music/babyisbeautiful2.mp3" type="audio/mpeg">
    <source src="./music/rangwotoutoukanni.mp3" type="audio/mpeg">
</audio>

<audio autoplay="autoplay" id="audio2"  loop="loop"  controls="controls">
    <source src="./music/rangwotoutoukanni.mp3" type="audio/mpeg">
</audio>

<blockquote class="layui-elem-quote">
    臭宝贝儿,今天是认识你的第<span class="days-number"></span>天<i class="layui-icon layui-icon-heart-fill" style="font-size: 20px; color: red;"></i>
</blockquote>
<!--日期控件-->
<div class="layui-inline" id="DisplayDateID"></div>
<hr>
<!--时间线-->
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;"><legend>2021年时间线</legend></fieldset>
<ul class="layui-timeline" id="my_timeline"></ul>

<!--结语-->
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;"><legend>此时此刻物语</legend></fieldset>
<blockquote class="layui-elem-quote" id="theWord"></blockquote>


<script src="js/layui/layui.js" charset="utf-8"></script>
<!-- 注意：如果你直接复制所有代码到本地，上述 JS 路径需要改成你本地的 -->
<script>

    layui.use(["jquery", 'layer','laydate'], function () {
        var $ = layui.jquery;
        var layer = layui.layer;
        var laydate = layui.laydate //日期

        //小爱心
        var MyLoveHeart="<i class='layui-icon layui-icon-heart-fill' style='font-size: 20px; color: red;'/>";
        //换行
        var EnterLine="<BR/>";

        var active = {
            //todo 时间长了 可以将内容写到json文件中
            all_content:[
                {"day":"2021-03-05","title":"第一天 一伴认识","label":"照片第一印象,感觉暖暖哒"},
                {"day":"2021-03-06","title":"聊天","label":"这个女孩儿总是撩我,哈哈"},
                {"day":"2021-03-07","title":"加微信","label":"男人要矜持，让妹子来加我"},
                {"day":"2021-03-08","title":"第一次电话","label":"清晨叫我起床上班"},
                {"day":"2021-03-09","title":"第一次见面","label":"周二，请假来找我，牛奶山楂球，青年湖四圈，麦当劳，卡片;见面第一印象淑女,嘿嘿,我想抱抱亲亲🤪🤪🤪哈哈!"},
                {"day":"2021-03-12","title":"马路边边","label":" 马路边边，饭后遛弯->第一次牵手(手好嫩好滑🤪好好牵 哈哈)和拥抱; 对我爱心 "+MyLoveHeart+" biubiubiu 疯狂撩我!"},
                {"day":"2021-03-13","title":"自习室","label":" 斯是陋室，惟吾德馨自习室"},
                {"day":"2021-03-14","title":"通州图书馆","label":" 庆丰包子铺，冷了，没给我衣服穿哈哈;第一次冲咖啡，雀跃的像个小姑娘，在座椅上扭动，幅度之大，以至于旁人投来了好奇的眼光而不知"},
                {"day":"2021-03-16","title":"来找我","label":" 炒面片，青年湖长椅,第一次亲亲!蜻蜓点水!"},
                {"day":"2021-03-18","title":"张妈妈","label":" 辣！辣！辣！辣！辣！辣！好吃！好吃！好吃！好吃！好吃！好吃！哈哈！"},
                {"day":"2021-03-19","title":"周五晚上见面","label":"见姐姐吃饭，晚上下雨；第一次住在一起，妹子很霸气；"},
                {"day":"2021-03-20","title":"周六","label":" 早上陪伴去推拿，我回家，臭宝去图书馆"},
                {"day":"2021-03-21","title":"通图","label":"周日"},
                {"day":"2021-03-23","title":"臭宝宝","label":"晚上给我做饭,竟然不让我插手;中午,大姨妈终于来了,哈哈"},
                {"day":"2021-03-24","title":"大酱汤","label":"一逛超市买菜,晚上臭宝宝给我做的大酱汤"},
                {"day":"2021-03-26","title":"回家","label":"臭宝贝儿回家3天,超级想念∞"},
                {"day":"2021-03-27","title":"回家","label":"臭宝贝儿回家3天,超级想念∞"},
                {"day":"2021-03-28","title":"回家","label":"臭宝贝儿回家3天,超级想念∞"},
                {"day":"2021-03-29","title":"陪伴","label":"回来之后,互相陪伴3天"},
                {"day":"2021-03-30","title":"草莓小米粥?","label":"我做饭搞砸了,熬粥,糊了;尬!尬!尬!尬!尬!"},
                {"day":"2021-04-02","title":"补个30年生日","label":"白玫瑰蛋糕，香水，大宝宝辛辛苦苦背一包水果，买衣服"},
                {"day":"2021-04-03","title":"通州图书馆","label":"陪伴推拿检查，留大宝宝独守空房，给臭宝洗臭袜子"},
                {"day":"2021-04-04","title":"通州图书馆","label":"给臭宝做早饭（煎饺💯），买袜子，买杯子，买零食，衣食住行买买买，离别"},
                {"day":"2021-04-05","title":"天坛公园","label":"遛遛遛，咔咔咔咔，合生汇逛吃逛吃,糖葫芦,猪蹄,鸡爪,花甲粉,hotwind衬衫"},
                {"day":"2021-04-08","title":"甚是想念，千里奔见","label":"拉伸嗷嗷叫🤓🤪，饺子🥟，芒果果冻"},
                {"day":"2021-04-09","title":"Happy Friday","label":"奔奔奔，在外面穿的衣服,回到家不能直接躺床上的问题意见不一,臭宝爱我,妥协了"},
                {"day":"2021-04-10","title":"通州图书馆","label":"穿臭宝外套拍照🤪，虎虎酒🤨🤨，阿凡达，缺少烛光的烛光晚餐"},
                {"day":"2021-04-11","title":"通州图书馆","label":"图书馆地铁卡卡卡，散步，加量版湖南米粉，小肚囊鼓鼓哒"},
                {"day":"2021-04-12","title":"想想想♾️","label":"充充充，冲冲冲，熬熬熬"},
                {"day":"2021-04-13","title":"夜游前门","label":"夹夹夹,系系系,糖葫芦,东来顺火锅,互相夹菜🤪小男人被臭宝包养的一天,2号线前门地铁小别离"},
                {"day":"2021-04-14","title":"（想你-∞，+∞想你）","label":"克制克制克制,没有一分钟没有买一送一"},
                {"day":"2021-04-16","title":"飓能吃","label":"周五 臭宝宝没有上班来接我；我做的皮蛋瘦肉粥，臭宝宝喝了3碗"},
                {"day":"2021-04-17","title":"被包养","label":"推拿，炎症好了，超市逛逛逛，无沙花甲，烂草莓果冻"},
                {"day":"2021-04-18","title":"宅宅宅","label":"在家第一次外卖，一起买鲜花（圣心百合、小雏菊没花钱、马蹄莲没买、白玫瑰），跟王善文吃饭"},
                {"day":"2021-04-19","title":"周一上班","label":"当老师 上课，唉。。。极其不情愿，那就别上了 ok  哈哈 开心了，要罢工了，又不开心了，还是上吧"},
                {"day":"2021-04-20","title":"周二上班","label":"今天臭宝到家好早呢,在超市买了鱼,晚上给我做的清蒸鱼; 吹风机在室友的屋里,没有吹头发,哼!第二天邋遢遢的上班"},
                {"day":"2021-04-21","title":"她来了","label":"理发;晚上姨妈来了"},
                {"day":"2021-04-22","title":"江米条","label":"今天让臭宝贝儿情绪波动了,我是个大坏蛋!"+EnterLine+" 以前的江米条是家和妈妈的味道，现在的江米条是臭宝贝儿的味道，咦~好臭好臭~~~哈哈哈"+MyLoveHeart},

            ]
            ,initContent:function () {
                var template_li='<li class="layui-timeline-item" > <a name="{id}"></a> <i class="layui-icon layui-timeline-axis"></i><div class="layui-timeline-content layui-text"><h3 class="layui-timeline-title">{day}</h3><p> {title}</p><p>标签：{label}</p> </div></li>'

                var arr=[]
                for (var i = 0; i < this.all_content.length; i++) {
                    var item=this.all_content[i]
                    var temp=template_li.replace("{id}",item.day).replace("{day}",item.day).replace("{title}",item.title).replace("{label}",item.label)
                    arr.push(temp)
                }
                arr.push('<li class="layui-timeline-item" > <a name="future"></a> <i class="layui-icon layui-anim layui-anim-rotate layui-anim-loop layui-timeline-axis"></i><div class="layui-timeline-content layui-text"><h3 class="layui-timeline-title">未来</h3><p>......</p></div></li>')
                $("#my_timeline").html(arr)
            }
            ,dispDiffDays:function () {
                var arr = "2021-03-05 00:00:00".split(/[- :]/);
                var f = new Date(arr[0], arr[1] - 1, arr[2], arr[3], arr[4], arr[5]);
                var b = parseInt(new Date() - f) / 1000;
                var e = parseInt(b % 60);
                if (e < 10) {
                    e = "0" + e
                }
                b = parseInt(b / 60);
                var d = b % 60;
                if (d < 10) {
                    d = "0" + d
                }
                b = parseInt(b / 60);
                var c = b % 24;
                if (c < 10) {
                    c = "0" + c
                }
                b = parseInt(b / 24);
                var a = b;
                document.getElementsByClassName("days-number")[0].innerHTML = ("" + a);
                // document.getElementsByClassName("seconds")[0].innerHTML = (c + " 时 " + d + " 分 " + e + " 秒")
            }
            ,theEndWord:function () {
                var theWord=[
                    "人有生老三千疾 唯有相思不可医",
                    "后来，时间都与你有关",
                    "想念一张脸。我也如此，闭上眼，脑海满满都是你的样子，挥之不去。",
                    "如果没有如果，时间是否会为我们停留？曾经看过的夕阳，听过的潮落，都被时间掩埋，幻成泡沫。",
                    "总有那么一个地方，一个人，让你心动，留恋不已。总有那么一个人，一句对不起，让你心痛，刻骨铭心。",
                    "爱，或者被爱，都不如相爱。",
                    "喜欢记忆中，你拥抱我的温度。喜欢记忆中，你体贴的话语。喜欢记忆中，你给我依靠的肩膀……",
                    "只要你记得我，我不介意整个世界都把我遗忘了。",
                    "悲伤的秋千总有微风陪伴，孤寂的夜，总有繁星点点，蓦然回首，而你却不在我身边。",
                    "有一天，我们一起起床，一起刷牙，一起拉着手出家门。一起遛狗，一起散步，一起为了争电视斗智斗勇。一起买菜，一起做饭，一起为了几毛钱在菜市场咆哮。我知道，一定会有这么一天的。",
                    "世界这么大，能遇见，不容易。",
                    "如果爱情是需要不顾一切的去付出，那么很显然，对方并不会太在乎你的感受。因为一个在乎你的人，是不舍得你受到任何伤害的。",
                    "我爱你，不光因为你的样子，还因为和你在一起时我的样子；我爱你，不光因为你为我而做的事，还因为为了你我能做成的事；我爱你，因为你能唤出我最真的那部分，我心里最美丽的地方被你的光芒照得通亮。",
                    "所以说，当你为爱情而牺牲越多时，对方爱你就爱的越少。一味的去爱人，当然是很累的。而真正被爱的感觉，其实就是受宠。",
                    "想你的时候，如果你不知道，我会感到孤单。想你的时候，你知道我在想你，我内心已经有了慰藉。想你的时候，如果你也在想我，我就会感觉甜蜜。",
                    "我还记得第一次看到你的场景，那时的我并没想到现在你对我是那么重要。",
                    "你闻到我的气息，我听到你的叫声。你知道我在流泪，我心疼你的焦急。我们如此贴近又如此遥远。",
                    "睡不着就给我打电话吧，难过了喊我一起出去陪你疯吧，伤心了找我诉苦吧，害怕了没事我在呢，被抛弃嫌弃了想一想有个人一直在你身后陪着你呢。",
                    "每晚睡前听你说晚安，是属于我的，最简单而持久的幸福。",
                    "夕阳西下，是我最想念的时候，对着你在的那个城市，说了一声：我想你，不知道，你是否听得到。",
                    "The time that you are my most fatal. 时光深知你是我最致命的爱人",
                    "当一切都随风而逝的时候，那些特别的瞬间都成了永恒。",
                    "子乔结婚以前，还有别的男人对你好，结婚以后，你就只剩下我了，可是婚后，我一定要对你更好，这样你才不会失落，不是吗？",
                    "你还没来，我怎敢老去。",
                    "你爱我，我会陪你；你不爱我，我给你自由。这就是傻傻的我，那个在乎你的我。",
                ]
                var randVal=Math.floor(Math.random()*theWord.length)
                console.log(theWord[randVal])
                $("#theWord").html(theWord[randVal])
            }
            ,initdate:function(){
                // console.log(this.all_content)
                var marks={}
                for (var i = 0; i < this.all_content.length; i++) {
                    var item=this.all_content[i]
                    marks[item.day]='' //如果为空字符，则默认显示数字+徽章
                }
                marks['0-1-14']='生日'
                marks['0-3-5']= '周年'
                marks['0-0-20']= '姨妈'
                marks['2021-4-2'] ='<i class=\'layui-icon layui-icon-heart-fill\' style=\'font-size: 20px; color: red;\'/>' //如果为空字符，则默认显示数字+徽章
                marks['2021-4-16']= '<i class=\'layui-icon layui-icon-heart-fill\' style=\'font-size: 20px; color: red;\'/>'

                laydate.render({
                    elem: '#DisplayDateID' //指定元素
                    ,theme: 'grid'
                    ,position: 'static'
                    ,mark: marks
                    ,done:function(value,data){
                        //console.log($(this.elem))
                        //console.log(value)//2021-04-16
                        //console.log(data)
                        layer.msg(value)
                        location.href="#"+value

                    }
                })
            }
            ,autoPlay:function () {
                //添加背景音乐（解决苹果手机不能自动播放问题）
                var audio = document.getElementById('audio1')
                var audio2 = document.getElementById('audio2');

                play = function(){
                    audio.play();
                    audio2.play();
                    document.removeEventListener("touchstart",play, false);
                };

                audio.play();//audio.pause();
                audio2.play();

                document.addEventListener("WeixinJSBridgeReady", function () {//微信
                    play();
                }, false);
                document.addEventListener('YixinJSBridgeReady', function() {//易信
                    play();
                }, false);
                document.addEventListener("touchstart",play, false);
            }
            ,init:function () {
                this.dispDiffDays();
                this.initContent();
                this.theEndWord();
                this.initdate();
                this.autoPlay();

            }

        }

        active.init();
        layer.msg("臭宝贝儿，你好美呀...")

    });

</script>

</body>
</html>
